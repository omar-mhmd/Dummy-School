{"ast":null,"code":"import _classCallCheck from \"/home/willyum/Omar/SchoolFinal/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/willyum/Omar/SchoolFinal/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/willyum/Omar/SchoolFinal/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/willyum/Omar/SchoolFinal/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/willyum/Omar/SchoolFinal/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/willyum/Omar/SchoolFinal/front/src/App.js\";\nimport GradeFilesUploadPage from './Pages/GradeFilesUploadPage/GradeFilesUploadPage';\nimport React, { Component } from 'react'; // import Pin from './Pin.js';\n// import Login from './components/Login/Login'\n\nimport LoginPage from './Pages/LoginPage/LoginPage.js';\nimport HomePage from './Pages/HomePage/HomePage';\nimport ProfessorPinPage from './Pages/ProfessorPinPage/ProfessorPinPage';\nimport StudentPinPage from './Pages/StudentPinPage/StudentPinPage'; // import WindowGame from './Pages/Games/game1.js';\n\nimport Books from '../src/';\nimport Cards from './components/Cards/cards.js'; // import PasswordForget from './components/PasswordForget/PasswordForget';\n\nimport { Switch, Route, withRouter } from 'react-router-dom';\nimport Header from './Header.js';\n\nvar Appe =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Appe, _Component);\n\n  function Appe(props) {\n    var _this;\n\n    _classCallCheck(this, Appe);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Appe).call(this, props));\n\n    _this.logUserIn = function (user) {\n      _this.setState({\n        auth: {\n          loggedIn: true,\n          user: user\n        }\n      });\n    };\n\n    _this.getPickerValue = function (value) {};\n\n    _this.state = {\n      auth: {\n        loggedIn: false,\n        user: null\n      },\n      file: null,\n      file_name: ''\n    };\n    return _this;\n  }\n\n  _createClass(Appe, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var jwt_token = localStorage.getItem('jwt');\n      var username = localStorage.getItem('username');\n      fetch('http://localhost:8080/check_token', {\n        method: 'post',\n        headers: {\n          'Content-type': 'application/json',\n          'Accept': 'application/json',\n          'Accept-Charset': 'utf-8'\n        },\n        body: JSON.stringify({\n          'token': jwt_token,\n          username: username\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var success = data.success,\n            results = data.results;\n        var user = results.user;\n        debugger;\n\n        if (success) {\n          _this2.setState({\n            auth: {\n              user: success ? user : null,\n              loggedIn: success\n            }\n          }, function () {// window.location = '/admin/cards'\n          });\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: 'App',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: '/',\n        exact: true,\n        render: function render(props) {\n          return React.createElement(HomePage, Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), this.state.auth.loggedIn ? React.createElement(React.Fragment, null, React.createElement(Route, {\n        path: \"/admin/studentpin\",\n        exact: true,\n        render: function render(props) {\n          return React.createElement(StudentPinPage, Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/admin\",\n        exact: true,\n        render: function render(props) {\n          return React.createElement(Cards, Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/admin/professorpin\",\n        exact: true,\n        render: function render(props) {\n          return React.createElement(ProfessorPinPage, Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/admin/file\",\n        exact: true,\n        render: function render(props) {\n          return React.createElement(GradeFilesUploadPage, Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })) : React.createElement(Route, {\n        path: \"/admin\",\n        render: function render(props) {\n          return React.createElement(LoginPage, Object.assign({}, props, {\n            logUserIn: _this3.logUserIn,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Appe;\n}(Component);\n\nexport default withRouter(Appe);","map":{"version":3,"sources":["/home/willyum/Omar/SchoolFinal/front/src/App.js"],"names":["GradeFilesUploadPage","React","Component","LoginPage","HomePage","ProfessorPinPage","StudentPinPage","Books","Cards","Switch","Route","withRouter","Header","Appe","props","logUserIn","user","setState","auth","loggedIn","getPickerValue","value","state","file","file_name","jwt_token","localStorage","getItem","username","fetch","method","headers","body","JSON","stringify","then","response","json","data","success","results","catch","err","console","log"],"mappings":"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","sourcesContent":["import GradeFilesUploadPage from './Pages/GradeFilesUploadPage/GradeFilesUploadPage'\nimport React, { Component } from 'react';\n// import Pin from './Pin.js';\n// import Login from './components/Login/Login'\nimport LoginPage from './Pages/LoginPage/LoginPage.js'\nimport HomePage from './Pages/HomePage/HomePage';\nimport ProfessorPinPage from './Pages/ProfessorPinPage/ProfessorPinPage';\nimport StudentPinPage from './Pages/StudentPinPage/StudentPinPage';\n// import WindowGame from './Pages/Games/game1.js';\nimport Books from '../src/'\nimport Cards from './components/Cards/cards.js'\n\n// import PasswordForget from './components/PasswordForget/PasswordForget';\nimport { Switch, Route, withRouter } from 'react-router-dom';\n\nimport Header from './Header.js';\n\nclass Appe extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: {\n        loggedIn: false,\n        user: null,\n      },\n      file: null,\n      file_name: '',\n    }\n  }\n  componentDidMount() {\n    const jwt_token = localStorage.getItem('jwt');\n    const username = localStorage.getItem('username');\n    fetch('http://localhost:8080/check_token', {\n      method: 'post',\n      headers: {\n        'Content-type': 'application/json',\n        'Accept': 'application/json',\n        'Accept-Charset': 'utf-8',\n      },\n      body: JSON.stringify(\n        {\n          'token': jwt_token,\n          username,\n        },\n      ),\n    })\n      .then(response => response.json())\n      .then(data => {\n        const { success, results } = data;\n        const { user } = results;\n        debugger\n        if (success) {\n          this.setState({\n            auth: {\n              user: success ? user : null,\n              loggedIn: success,\n            },\n          }, () => {\n            // window.location = '/admin/cards'\n          })\n        }\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  logUserIn = (user) => {\n    this.setState({\n      auth: {\n        loggedIn: true,\n        user,\n      },\n    })\n  }\n\n  getPickerValue = (value) => {\n  }\n\n  render() {\n    return (\n      <div className={'App'}>\n        {/* <Header/> */}\n\n        <Switch>\n          <Route path={'/'} exact render={props => <HomePage {...props} />} />\n          {/* <Route path=\"/game\" exact render={props => <WindowGame {...props} />} /> */}\n\n          {\n            this.state.auth.loggedIn ? (\n              <>\n                <Route path=\"/admin/studentpin\" exact render={props => <StudentPinPage {...props} />} />\n                <Route path=\"/admin\" exact render={props => <Cards {...props} />} />\n\n                <Route path=\"/admin/professorpin\" exact render={props => <ProfessorPinPage {...props} />} />\n                <Route path=\"/admin/file\" exact render={props => <GradeFilesUploadPage {...props} />} />\n              </>\n\n            ) : (\n                <Route path=\"/admin\" render={props => <LoginPage {...props} logUserIn={this.logUserIn} />} />\n\n              )\n          }\n        </Switch>\n\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Appe);\n"]},"metadata":{},"sourceType":"module"}