{"ast":null,"code":"import _defineProperty from \"/home/willyum/Omar/SchoolFinal/front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/willyum/Omar/SchoolFinal/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/willyum/Omar/SchoolFinal/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/willyum/Omar/SchoolFinal/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/willyum/Omar/SchoolFinal/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/willyum/Omar/SchoolFinal/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/willyum/Omar/SchoolFinal/front/src/Pages/LoginPage/LoginPage.js\";\nimport React from 'react';\nimport './LoginPage.css';\n\nvar LoginError = function LoginError(_ref) {\n  var error = _ref.error;\n  return React.createElement(\"div\", {\n    className: 'error-wrapper',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 5\n    },\n    __self: this\n  }, error);\n};\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginPage, _React$Component);\n\n  function LoginPage(props) {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).call(this, props));\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var _this$state = _this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n      fetch('http://localhost:8080/login', {\n        method: 'post',\n        headers: {\n          'Content-type': 'application/json',\n          'Accept': 'application/json',\n          'Accept-Charset': 'utf-8'\n        },\n        body: JSON.stringify({\n          username: username,\n          password: password\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var success = data.success,\n            message = data.message,\n            results = data.results;\n        var token = results.token,\n            user = results.user;\n\n        if (success) {\n          localStorage.setItem('jwt', token);\n          localStorage.setItem('username', user.username);\n\n          _this.props.logUserIn(user);\n\n          _this.props.history.push('/admin/Cards');\n        } else {\n          _this.setState({\n            error: message\n          });\n        }\n      }).catch(function (err) {\n        _this.setState({\n          error: err\n        });\n      });\n    };\n\n    _this.state = {\n      username: '',\n      password: '',\n      error: ''\n    };\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password,\n          error = _this$state2.error;\n      return React.createElement(\"div\", {\n        className: \"login-page \".concat(error ? 'error' : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"inputs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: 'username',\n        value: username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        name: 'password',\n        value: password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }))), error ? React.createElement(LoginError, {\n        error: error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }) : null, React.createElement(\"div\", {\n        className: \"submit-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: 'btn btn-block',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Submit\"))));\n    }\n  }]);\n\n  return LoginPage;\n}(React.Component);\n\nexport default LoginPage;","map":{"version":3,"sources":["/home/willyum/Omar/SchoolFinal/front/src/Pages/LoginPage/LoginPage.js"],"names":["React","LoginError","error","LoginPage","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","state","username","password","fetch","method","headers","body","JSON","stringify","then","response","json","data","success","message","results","token","user","localStorage","setItem","logUserIn","history","push","catch","err","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;;AACA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAAe;AAAA,MAAZC,KAAY,QAAZA,KAAY;AAChC,SACE;AAAK,IAAA,SAAS,EAAE,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,KADH,CADF;AAKD,CAND;;IAQMC,S;;;;;AAEJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;;AADiB,UASnBC,YATmB,GASJ,UAACC,KAAD,EAAW;AACxB,YAAKC,QAAL,qBACGD,KAAK,CAACE,MAAN,CAAaC,IADhB,EACuBH,KAAK,CAACE,MAAN,CAAaE,KADpC;AAGD,KAbkB;;AAAA,UAenBC,YAfmB,GAeJ,UAACL,KAAD,EAAW;AACxBA,MAAAA,KAAK,CAACM,cAAN;AADwB,wBAEO,MAAKC,KAFZ;AAAA,UAEhBC,QAFgB,eAEhBA,QAFgB;AAAA,UAENC,QAFM,eAENA,QAFM;AAGxBC,MAAAA,KAAK,CAAC,6BAAD,EAAgC;AACnCC,QAAAA,MAAM,EAAE,MAD2B;AAEnCC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,oBAAU,kBAFH;AAGP,4BAAkB;AAHX,SAF0B;AAOnCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBP,UAAAA,QAAQ,EAARA,QADmB;AAEnBC,UAAAA,QAAQ,EAARA;AAFmB,SAAf;AAP6B,OAAhC,CAAL,CAYGO,IAZH,CAYQ,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OAZhB,EAaGF,IAbH,CAaQ,UAACG,IAAD,EAAU;AAAA,YACNC,OADM,GACwBD,IADxB,CACNC,OADM;AAAA,YACGC,OADH,GACwBF,IADxB,CACGE,OADH;AAAA,YACYC,OADZ,GACwBH,IADxB,CACYG,OADZ;AAAA,YAENC,KAFM,GAEUD,OAFV,CAENC,KAFM;AAAA,YAECC,IAFD,GAEUF,OAFV,CAECE,IAFD;;AAGd,YAAIJ,OAAJ,EAAa;AACXK,UAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BH,KAA5B;AACAE,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCF,IAAI,CAAChB,QAAtC;;AACA,gBAAKV,KAAL,CAAW6B,SAAX,CAAqBH,IAArB;;AACA,gBAAK1B,KAAL,CAAW8B,OAAX,CAAmBC,IAAnB,CAAwB,cAAxB;AACD,SALD,MAKO;AACL,gBAAK5B,QAAL,CAAc;AACZL,YAAAA,KAAK,EAAEyB;AADK,WAAd;AAGD;AACF,OA1BH,EA2BGS,KA3BH,CA2BS,UAAAC,GAAG,EAAI;AACZ,cAAK9B,QAAL,CAAc;AACZL,UAAAA,KAAK,EAAEmC;AADK,SAAd;AAGD,OA/BH;AAgCD,KAlDkB;;AAEjB,UAAKxB,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXb,MAAAA,KAAK,EAAE;AAHI,KAAb;AAFiB;AAOlB;;;;6BA6CQ;AAAA,yBAC+B,KAAKW,KADpC;AAAA,UACCC,QADD,gBACCA,QADD;AAAA,UACWC,QADX,gBACWA,QADX;AAAA,UACqBb,KADrB,gBACqBA,KADrB;AAEP,aACE;AAAK,QAAA,SAAS,uBAAgBA,KAAK,GAAG,OAAH,GAAa,EAAlC,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,QAAQ,EAAE,KAAKS,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAE,UAAzB;AAAqC,QAAA,KAAK,EAAEG,QAA5C;AAAsD,QAAA,QAAQ,EAAE,KAAKT,YAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,IAAI,EAAE,UAA7B;AAAyC,QAAA,KAAK,EAAEU,QAAhD;AAA0D,QAAA,QAAQ,EAAE,KAAKV,YAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJF,CADF,EAUIH,KAAK,GAAG,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAEA,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAH,GAAkC,IAV3C,EAYE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,SAAS,EAAE,eAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAZF,CADF,CADF;AAoBD;;;;EA5EqBF,KAAK,CAACsC,S;;AAgF9B,eAAenC,SAAf","sourcesContent":["import React from 'react';\nimport './LoginPage.css'\nconst LoginError = ({ error }) => {\n  return (\n    <div className={'error-wrapper'}>\n      {error}\n    </div>\n  )\n}\n\nclass LoginPage extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      username: '',\n      password: '',\n      error: '',\n    }\n  }\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    fetch('http://localhost:8080/login', {\n      method: 'post',\n      headers: {\n        'Content-type': 'application/json',\n        'Accept': 'application/json',\n        'Accept-Charset': 'utf-8',\n      },\n      body: JSON.stringify({\n        username,\n        password,\n      }),\n    })\n      .then(response => response.json())\n      .then((data) => {\n        const { success, message, results } = data;\n        const { token, user } = results;\n        if (success) {\n          localStorage.setItem('jwt', token);\n          localStorage.setItem('username', user.username);\n          this.props.logUserIn(user);\n          this.props.history.push('/admin/Cards');\n        } else {\n          this.setState({\n            error: message,\n          })\n        }\n      })\n      .catch(err => {\n        this.setState({\n          error: err,\n        })\n      })\n  }\n\n  render() {\n    const { username, password, error } = this.state;\n    return (\n      <div className={`login-page ${error ? 'error' : ''}`}>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"inputs\">\n            <div className=\"input-group\">\n              <input type=\"text\" name={'username'} value={username} onChange={this.handleChange} />\n            </div>\n            <div className=\"input-group\">\n              <input type=\"password\" name={'password'} value={password} onChange={this.handleChange} />\n            </div>\n          </div>\n          {\n            error ? <LoginError error={error} /> : null\n          }\n          <div className=\"submit-wrapper\">\n            <button className={'btn btn-block'}>Submit</button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n\n}\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}